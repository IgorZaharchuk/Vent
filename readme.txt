–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–µ—Ä–º–æ–∫–∞–º–µ—Ä–æ–π –∏ –≤–µ–Ω—Ç–∏–ª—è—Ü–∏–µ–π (v2.0)
 –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞:  ZMod, Klipper v0.13+, FlashForge Adventurer 5M/Pro  
 –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:  –ì–∏–±—Ä–∏–¥–Ω–∞—è (Klipper Macros + Python Physics Engine)

   üìñ –û–ø–∏—Å–∞–Ω–∏–µ
–≠—Ç–æ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∞–∫—Ç–∏–≤–Ω–æ–π —Ç–µ—Ä–º–æ–∫–∞–º–µ—Ä—ã –±–µ–∑ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –Ω–∞–≥—Ä–µ–≤–∞—Ç–µ–ª—è. –í –∫–∞—á–µ—Å—Ç–≤–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ —Ç–µ–ø–ª–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞–≥—Ä–µ–≤–∞—Ç–µ–ª—å–Ω—ã–π —Å—Ç–æ–ª –ø—Ä–∏–Ω—Ç–µ—Ä–∞.  
–ö–ª—é—á–µ–≤–æ–µ –æ—Ç–ª–∏—á–∏–µ –≤–µ—Ä—Å–∏–∏ 2.0 ‚Äî –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ  –≤–Ω–µ—à–Ω–µ–≥–æ –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ–≥–æ —è–¥—Ä–∞ (`vent_calc.py`) , –∫–æ—Ç–æ—Ä–æ–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏, –ø—Ä–∏–º–µ–Ω—è—è:
1.   –§–∏–∑–∏—á–µ—Å–∫—É—é –º–æ–¥–µ–ª—å –ù—å—é—Ç–æ–Ω–∞-–†–∏—Ö–º–∞–Ω–∞  (—ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π –∑–∞–∫–æ–Ω –æ—Ö–ª–∞–∂–¥–µ–Ω–∏—è/–Ω–∞–≥—Ä–µ–≤–∞) –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –ø—Ä–æ–≥–Ω–æ–∑–∞ –≤—Ä–µ–º–µ–Ω–∏ –¥–æ —Ü–µ–ª–∏.
2.   –§–∏–ª—å—Ç—Ä –ö–∞–ª–º–∞–Ω–∞  –¥–ª—è –æ—Ü–µ–Ω–∫–∏ —Ä–µ–∞–ª—å–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏ –Ω–∞–≥—Ä–µ–≤–∞ –∏ –æ—Ç—Å–µ–∏–≤–∞–Ω–∏—è —à—É–º–æ–≤ –¥–∞—Ç—á–∏–∫–∞.
3.   –ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ (On-device):  –°–∏—Å—Ç–µ–º–∞ –Ω–∞–∫–∞–ø–ª–∏–≤–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é —Å–µ—Å—Å–∏–π –≤ —Ñ–∞–π–ª–µ `vent_knowledge.json`, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Ç–æ—á–Ω—è—è –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Ç–µ–ø–ª–æ–ø–µ—Ä–µ–¥–∞—á–∏ (`k_heat`) –∏ —Å–∫–æ—Ä–æ—Å—Ç—å –ø—Ä–æ–≥—Ä–µ–≤–∞ —Å—Ç–æ–ª–∞ –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —É—Å–ª–æ–≤–∏—è –ø–æ–º–µ—â–µ–Ω–∏—è.
4.   –ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:  –°–∫—Ä–∏–ø—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ—Ç —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É —Å—Ç–æ–ª–∞ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –Ω–∞–≥—Ä–µ–≤–∞, –µ—Å–ª–∏ –ø—Ä–æ–≥–Ω–æ–∑ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—Ç—Å—Ç–∞–≤–∞–Ω–∏–µ –∏–ª–∏ –æ–ø–µ—Ä–µ–∂–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞.

   ‚öôÔ∏è –ê–ø–ø–∞—Ä–∞—Ç–Ω–∞—è —á–∞—Å—Ç—å
- –í–æ–∑–¥—É—Ö–æ–≤–æ–¥ ‚Äî —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è Adventurer 5M/5M Pro:
https://www.printables.com/model/910736-ventiliatsionnyi-kanal-dlia-adventurer-5m5m-pro
‚Üí –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–≤–∞ –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–∞: –æ–¥–∏–Ω –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Ü–∏—Ä–∫—É–ª—è—Ü–∏–∏, –≤—Ç–æ—Ä–æ–π ‚Äî –¥–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ –æ—Ö–ª–∞–∂–¥–µ–Ω–∏—è.
- –°–µ—Ä–≤–æ–ø—Ä–∏–≤–æ–¥ ‚Äî —É–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞—Å–ª–æ–Ω–∫–æ–π, –ø–µ—Ä–µ–∫–ª—é—á–∞—è –º–µ–∂–¥—É —Ä–µ–∂–∏–º–∞–º–∏ —Ü–∏—Ä–∫—É–ª—è—Ü–∏–∏ –∏ –≤–µ–Ω—Ç–∏–ª—è—Ü–∏–∏.
- –î–∞—Ç—á–∏–∫ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã ‚Äî MAX6675 (—Ç–µ—Ä–º–æ–ø–∞—Ä–∞ K-—Ç–∏–ø–∞) –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –∏–∑–º–µ—Ä–µ–Ω–∏—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –≤ –∫–∞–º–µ—Ä–µ.
- –¶–∏—Ä–∫—É–ª—è—Ü–∏–æ–Ω–Ω—ã–π –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä (5015, 24 –í) ‚Äî –ø–æ–¥–∫–ª—é—á—ë–Ω –∫ —Ä–∞–∑—ä—ë–º—É PLA fan (–≤ printer.base.cfg –ø–∏–Ω chamber fan –ø–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–µ–Ω –Ω–∞ —Å–≤–æ–±–æ–¥–Ω—ã–π GPIO –≤–æ –∏–∑–±–µ–∂–∞–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤).
- –í–Ω–µ—à–Ω–∏–π –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä ‚Äî –ø–æ–¥–∫–ª—é—á—ë–Ω —á–µ—Ä–µ–∑ MOSFET-–º–æ–¥—É–ª—å D4184 –¥–ª—è –∫–æ–º–º—É—Ç–∞—Ü–∏–∏ –º–æ—â–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏. –î–ª—è —É–ª—É—á—à–µ–Ω–∏—è –æ—Ö–ª–∞–∂–¥–µ–Ω–∏—è –∫–∞–º–µ—Ä—ã –ø—Ä–∏ –ø–µ—Ä–µ–≥—Ä–µ–≤–µ –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä –ø–µ—Ä–µ–≤–µ—Ä–Ω—É—Ç, –æ–Ω –Ω–∞–≥–Ω–µ—Ç–∞–µ—Ç —Ö–æ–ª–æ–¥–Ω—ã–π –≤–æ–∑–¥—É—Ö —Å–Ω–∞—Ä—É–∂–∏ –∫–æ—Ä–ø—É—Å–∞ –≤ –Ω–∏–∑ –∫–∞–º–µ—Ä—ã.
- –°–µ—Ä–≤–æ ‚Äî –ø–æ–¥–∫–ª—é—á—ë–Ω –≤ —Ä–æ–¥–Ω–æ–π —Ä–∞–∑—ä—ë–º –Ω–∞ –ø–ª–∞—Ç–µ, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–µ—Ä–µ–º—ã—á–∫–∏ –¥–ª—è –ø–æ–¥–∞—á–∏ +5 –í.

   üöÄ –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã

   1. VENT_AUTO (–£–º–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∂–∏–º)
–û—Å–Ω–æ–≤–Ω–æ–π —Ä–µ–∂–∏–º –¥–ª—è –ø—Ä–æ–≥—Ä–µ–≤–∞ –ø–µ—Ä–µ–¥ –ø–µ—á–∞—Ç—å—é –∏–ª–∏ —Å—É—à–∫–∏ —Ñ–∏–ª–∞–º–µ–Ω—Ç–∞.
```gcode
VENT_AUTO TEMP=<—Ü–µ–ª—å> WAIT=<—Ç–∞–π–º–∞—É—Ç_–º–∏–Ω> [BED_T=<–º–∏–Ω_—Å—Ç–æ–ª>]
```
 –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: 
    `TEMP`: –¶–µ–ª–µ–≤–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –∫–∞–º–µ—Ä—ã (20‚Äì60¬∞C).
    `WAIT`: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –≤ –º–∏–Ω—É—Ç–∞—Ö (10‚Äì600).
    `BED_T` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ —Å—Ç–æ–ª–∞. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é = `TEMP + 10¬∞C`. –ú–∞–∫—Å–∏–º—É–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω 120¬∞C.

 –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã: 
1.   –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:  –°–∫—Ä–∏–ø—Ç —Å—á–∏—Ç—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â—É—é —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É, –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ (`k_heat`) –∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É —Å—Ç–æ–ª–∞ –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ü–µ–ª–∏ —Ä–æ–≤–Ω–æ –∫ —Å–µ—Ä–µ–¥–∏–Ω–µ —Ç–∞–π–º–∞—É—Ç–∞ (–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —ç–Ω–µ—Ä–≥–∏–∏).
2.   –ü–∞—É–∑–∞ –ø–µ—á–∞—Ç–∏:  –ï—Å–ª–∏ –ø–µ—á–∞—Ç—å –∞–∫—Ç–∏–≤–Ω–∞, –∞ –∫–∞–º–µ—Ä–∞ —Ö–æ–ª–æ–¥–Ω–∞ ‚Äî —Å–∏—Å—Ç–µ–º–∞ —Å—Ç–∞–≤–∏—Ç –ø–µ—á–∞—Ç—å –Ω–∞ –ø–∞—É–∑—É (`PAUSE`).
3.   –ù–∞–≥—Ä–µ–≤ –∏ –ê–¥–∞–ø—Ç–∞—Ü–∏—è: 
        –í–∫–ª—é—á–∞–µ—Ç—Å—è —Ü–∏—Ä–∫—É–ª—è—Ü–∏—è (–∑–∞—Å–ª–æ–Ω–∫–∞ –∑–∞–∫—Ä—ã—Ç–∞).
        –°—Ç–æ–ª –Ω–∞–≥—Ä–µ–≤–∞–µ—Ç—Å—è –¥–æ —Ä–∞—Å—á–µ—Ç–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è.
        –ö–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥ Python-—Å–∫—Ä–∏–ø—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ç–µ–º–ø –Ω–∞–≥—Ä–µ–≤–∞. –ï—Å–ª–∏ –∫–∞–º–µ—Ä–∞ –≥—Ä–µ–µ—Ç—Å—è –º–µ–¥–ª–µ–Ω–Ω–µ–µ –ø—Ä–æ–≥–Ω–æ–∑–∞, —Å–∫—Ä–∏–ø—Ç  –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–≤—ã—à–∞–µ—Ç  —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É —Å—Ç–æ–ª–∞ (–¥–æ 120¬∞C). –ï—Å–ª–∏ –±—ã—Å—Ç—Ä–µ–µ ‚Äî —Å–Ω–∏–∂–∞–µ—Ç –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ —Ä–µ—Å—É—Ä—Å–∞ –¢–≠–ù–∞.
4.   –í–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:  –ü—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ü–µ–ª–∏:
        –≠–∫—Å—Ç—Ä—É–¥–µ—Ä –ø—Ä–æ–≥—Ä–µ–≤–∞–µ—Ç—Å—è –¥–æ 100¬∞C (–∑–∞—â–∏—Ç–∞ –æ—Ç "extruder too cold").
        –ü–µ—á–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ–∑–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è (`RESUME`).
5.   –°—É—à–∫–∞:  –ï—Å–ª–∏ –ø–µ—á–∞—Ç—å –Ω–µ –∑–∞–ø—É—â–µ–Ω–∞, —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ç–µ—Ä–º–æ—Å—Ç–∞—Ç, —É–¥–µ—Ä–∂–∏–≤–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É.

   2. VENT_INTERNAL (–†—É—á–Ω–∞—è —Ü–∏—Ä–∫—É–ª—è—Ü–∏—è)
–†–µ–∂–∏–º –±—ã—Å—Ç—Ä–æ–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Ü–∏—Ä–∫—É–ª—è—Ü–∏–∏ –±–µ–∑ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç–æ–ª–æ–º —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã —Å–∫—Ä–∏–ø—Ç–∞ (—Å—Ç–æ–ª —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é –∏–ª–∏ G-–∫–æ–¥–æ–º).
    –ó–∞—Å–ª–æ–Ω–∫–∞: –ó–∞–∫—Ä—ã—Ç–∞ (95¬∞).
    –í–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä: 100%.
    –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è —Ä—É—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞ —Å–∏—Å—Ç–µ–º—ã –∏–ª–∏ –±—ã—Å—Ç—Ä–æ–≥–æ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–µ–≤–∞.

   3. VENT_EXTERNAL (–ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ–µ –æ—Ö–ª–∞–∂–¥–µ–Ω–∏–µ)
–†–µ–∂–∏–º –∞–≤–∞—Ä–∏–π–Ω–æ–≥–æ –∏–ª–∏ –ø–æ—Å—Ç-–ø–µ—á–∞—Ç–Ω–æ–≥–æ –æ—Ö–ª–∞–∂–¥–µ–Ω–∏—è.
    –ó–∞—Å–ª–æ–Ω–∫–∞: –û—Ç–∫—Ä—ã—Ç–∞ (175¬∞).
    –í–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä—ã: –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∏ –≤–Ω–µ—à–Ω–∏–π –Ω–∞ 100%.
    –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –ø–æ—Ç–æ–∫ —Ö–æ–ª–æ–¥–Ω–æ–≥–æ –≤–æ–∑–¥—É—Ö–∞ —á–µ—Ä–µ–∑ –∫–∞–º–µ—Ä—É.

   4. VENT_OFF (–ü–æ–ª–Ω—ã–π —Å–±—Ä–æ—Å)
–í—ã–∫–ª—é—á–∞–µ—Ç –≤—Å—é —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–µ–Ω—Ç–∏–ª—è—Ü–∏–µ–π.
    –í–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä—ã: 0%.
    –ó–∞—Å–ª–æ–Ω–∫–∞: –ó–∞–∫—Ä—ã—Ç–∞.
    –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–æ–ª–æ–º: –ü–µ—Ä–µ–¥–∞–µ—Ç—Å—è –æ–±—Ä–∞—Ç–Ω–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º—É –∫–æ–Ω—Ç—Ä–æ–ª—é Klipper (—Å–∫—Ä–∏–ø—Ç –ø–µ—Ä–µ—Å—Ç–∞–µ—Ç –º–µ–Ω—è—Ç—å —Ü–µ–ª–µ–≤—É—é —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É —Å—Ç–æ–ª–∞).
    –°–±—Ä–æ—Å —Ç–∞–π–º–µ—Ä–æ–≤ –∏ –æ—à–∏–±–æ–∫.

   üß† –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ v2.0

   –§–∏–∑–∏—á–µ—Å–∫–∏ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–≥–Ω–æ–∑
–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –ª–∏–Ω–µ–π–Ω–æ–π —ç–∫—Å—Ç—Ä–∞–ø–æ–ª—è—Ü–∏–∏, —Å–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ–æ—Ä–º—É–ª—É:
```
T(t) = T_bed - (T_bed - T_start)   e^(-k   t)
```
–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ç–æ—á–Ω–æ –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞—Ç—å –≤—Ä–µ–º—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ü–µ–ª–∏ –¥–∞–∂–µ –ø—Ä–∏ –∑–∞–º–µ–¥–ª–µ–Ω–∏–∏ –Ω–∞–≥—Ä–µ–≤–∞ –≤ –∫–æ–Ω—Ü–µ —Ü–∏–∫–ª–∞, –∏—Å–∫–ª—é—á–∞—è –ª–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏ —Ç–∞–π–º–∞—É—Ç–∞.

   –°–∞–º–æ–æ–±—É—á–µ–Ω–∏–µ (–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π)
–°–∏—Å—Ç–µ–º–∞ —Ö—Ä–∞–Ω–∏—Ç —Ñ–∞–π–ª `vent_knowledge.json`, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π:
    –ò—Å—Ç–æ—Ä–∏—é —É—Å–ø–µ—à–Ω—ã—Ö –∏ –Ω–µ—É–¥–∞—á–Ω—ã—Ö —Å–µ—Å—Å–∏–π –Ω–∞–≥—Ä–µ–≤–∞.
    –í—ã—á–∏—Å–ª–µ–Ω–Ω—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã —Ç–µ–ø–ª–æ–ø–æ—Ç–µ—Ä—å (`k_heat`) –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π.
    –†–µ–∞–ª—å–Ω—ã–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ –ø—Ä–æ–≥—Ä–µ–≤–∞ —Å—Ç–æ–ª–∞.
–ü—Ä–∏ –∫–∞–∂–¥–æ–º –Ω–æ–≤–æ–º –∑–∞–ø—É—Å–∫–µ —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã–π –æ–ø—ã—Ç –¥–ª—è –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–≥–æ —Å—Ç–∞—Ä—Ç–æ–≤–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞. –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π —Å–µ—Å—Å–∏–∏ –¥–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è.

   –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∑–∞—â–∏—Ç–∞
     –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç–∏–∂–∏–º–æ—Å—Ç–∏ (Error 6):  –ü–µ—Ä–µ–¥ —Å—Ç–∞—Ä—Ç–æ–º —Å–∫—Ä–∏–ø—Ç —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Ä–∞–≤–Ω–æ–≤–µ—Å–Ω—É—é —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É. –ï—Å–ª–∏ —Ü–µ–ª—å —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –Ω–µ–¥–æ—Å—Ç–∏–∂–∏–º–∞ –¥–∞–∂–µ –ø—Ä–∏ –º–∞–∫—Å–∏–º—É–º–µ —Å—Ç–æ–ª–∞ (120¬∞C) –∏–∑-–∑–∞ –≤—ã—Å–æ–∫–∏—Ö —Ç–µ–ø–ª–æ–ø–æ—Ç–µ—Ä—å, —Å—Ç–∞—Ä—Ç –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è.
     –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ç–∞–π–º–∞—É—Ç (Error 5):  –û—à–∏–±–∫–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏  —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π –ø—Ä–æ–≥–Ω–æ–∑  –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ —Ü–µ–ª—å –Ω–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞ –¥–æ –∫–æ–Ω—Ü–∞ —Ç–∞–π–º–∞—É—Ç–∞, —Å —É—á–µ—Ç–æ–º —Ç–µ–∫—É—â–µ–≥–æ —Ç–µ–º–ø–∞.
     –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã –∏—Å–∫–ª—é—á–µ–Ω—ã:  –°–∫—Ä–∏–ø—Ç —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å—Ç–æ–ª–æ–º —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –ø–µ—á–∞—Ç—å —Å—Ç–æ–∏—Ç –Ω–∞ –ø–∞—É–∑–µ –∏–ª–∏ –≤ —Ä–µ–∂–∏–º–µ —Å—É—à–∫–∏. –í–æ –≤—Ä–µ–º—è –∞–∫—Ç–∏–≤–Ω–æ–π –ø–µ—á–∞—Ç–∏ (`state == printing`) —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–æ–ª–æ–º –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–¥–∞–µ—Ç—Å—è slicer/G-–∫–æ–¥—É.
     –°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è:  –ê–¥–∞–ø—Ç–∞—Ü–∏—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã —Å—Ç–æ–ª–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –≤—ã—Ö–æ–¥–∞ —Å–∞–º–æ–≥–æ —Å—Ç–æ–ª–∞ –Ω–∞ –∑–∞–¥–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º (–∑–∞–¥–µ—Ä–∂–∫–∞ 120 —Å–µ–∫), —á—Ç–æ –∏—Å–∫–ª—é—á–∞–µ—Ç —Ä–µ–∞–∫—Ü–∏—é –Ω–∞ –ø–µ—Ä–µ—Ö–æ–¥–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã.

   üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —Ñ–∞–π–ª—ã
–°–∏—Å—Ç–µ–º–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö —Ñ–∞–π–ª–æ–≤ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `/opt/config/mod_data/plugins/vent/`:
1.  `vent.cfg` ‚Äî –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–∞–∫—Ä–æ—Å–æ–≤ Klipper –∏ –ø–∏–Ω–∞—É—Ç.
2.  `vent_calc.py` ‚Äî –Ø–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã (Python 3), –≤—ã–ø–æ–ª–Ω—è—é—â–µ–µ —Ä–∞—Å—á–µ—Ç—ã.
3.  `vent_wrapper.sh` ‚Äî –°–∫—Ä–∏–ø—Ç-–æ–±–µ—Ä—Ç–∫–∞ –¥–ª—è –¥–µ–º–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ Python.
4.  `vent_knowledge.json` ‚Äî –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏).
5.  `vent_state.json` ‚Äî –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–∞—à–∏–Ω—ã (—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞–º–∏).
6.  `vent_debug.log` ‚Äî –õ–æ–≥ —Ä–∞–±–æ—Ç—ã —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –¥–≤–∏–∂–∫–∞.

 –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è: 
    Python 3 —Å –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏: `numpy`, `requests`.
    –ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π `gcode_shell_command` –≤ Klipper.

   üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

 1. –ü–µ—á–∞—Ç—å ABS/ASA —Å –ø—Ä–æ–≥—Ä–µ–≤–æ–º –∫–∞–º–µ—Ä—ã –¥–æ 45¬∞C: 
–î–æ–±–∞–≤—å—Ç–µ –≤ –Ω–∞—á–∞–ª–æ G-–∫–æ–¥–∞ —Å–ª–∞–π—Å–µ—Ä–∞:
```gcode
M104 S0 ; –í—ã–∫–ª—é—á–∏—Ç—å —ç–∫—Å—Ç—Ä—É–¥–µ—Ä –≤—Ä–µ–º–µ–Ω–Ω–æ
VENT_OFF ; –°–±—Ä–æ—Å –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π
VENT_AUTO TEMP=45 WAIT=30 BED_T=80 ; –ñ–¥–∞—Ç—å 30 –º–∏–Ω, —Å—Ç–æ–ª –º–∏–Ω–∏–º—É–º 80¬∞C
; –î–∞–ª–µ–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Å—Ç–∞—Ä—Ç –ø–µ—á–∞—Ç–∏...
```

 2. –°—É—à–∫–∞ –Ω–µ–π–ª–æ–Ω–∞ –ø—Ä–∏ 55¬∞C –≤ —Ç–µ—á–µ–Ω–∏–µ 4 —á–∞—Å–æ–≤: 
```gcode
VENT_AUTO TEMP=55 WAIT=240
```

 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–∏—Å—Ç–µ–º—ã: 
–í—ã–∑–æ–≤–∏—Ç–µ –º–∞–∫—Ä–æ—Å –≤ –∫–æ–Ω—Å–æ–ª–∏ –∏–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –∫–Ω–æ–ø–∫—É –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
```gcode
VENT_STATUS
```
 –í—ã–≤–æ–¥ –ø–æ–∫–∞–∂–µ—Ç:  –¢–µ–∫—É—â–∏–π —Ä–µ–∂–∏–º, –ø—Ä–æ–≥–Ω–æ–∑ –≤—Ä–µ–º–µ–Ω–∏ –¥–æ —Ü–µ–ª–∏, —Ä–µ–∞–ª—å–Ω—É—é —Å–∫–æ—Ä–æ—Å—Ç—å –Ω–∞–≥—Ä–µ–≤–∞ (¬∞C/–º–∏–Ω), —Å—Ç–∞—Ç—É—Å –æ—à–∏–±–∫–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å) –∏ –∫—Ç–æ —Å–µ–π—á–∞—Å —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å—Ç–æ–ª–æ–º.

 4. –ê–≤–∞—Ä–∏–π–Ω–æ–µ –æ—Ö–ª–∞–∂–¥–µ–Ω–∏–µ –ø–æ—Å–ª–µ –ø–µ—á–∞—Ç–∏: 
–î–æ–±–∞–≤—å—Ç–µ –≤ –∫–æ–Ω–µ—Ü G-–∫–æ–¥–∞ —Å–ª–∞–π—Å–µ—Ä–∞ (–ø–æ—Å–ª–µ –≤—ã–∫–ª—é—á–µ–Ω–∏—è –Ω–∞–≥—Ä–µ–≤–∞—Ç–µ–ª–µ–π):
```gcode
M104 S0
M140 S0
VENT_EXTERNAL ; –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –æ–±–¥—É–≤ –Ω–∞ 10 –º–∏–Ω—É—Ç (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ç–∞–π–º–µ—Ä –æ—Ç–¥–µ–ª—å–Ω–æ)
G4 P600000
VENT_OFF
```

   üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
–ï—Å–ª–∏ —Å–∏—Å—Ç–µ–º–∞ –≤–µ–¥–µ—Ç —Å–µ–±—è –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:
1.  –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `vent_debug.log` ‚Äî —Ç–∞–º –ø–æ–¥—Ä–æ–±–Ω–æ —Ä–∞—Å–ø–∏—Å–∞–Ω—ã —Ä–∞—Å—á–µ—Ç—ã —Ñ–∏–∑–∏–∫–∏, –∑–Ω–∞—á–µ–Ω–∏—è `k_heat` –∏ –ø—Ä–∏—á–∏–Ω—ã –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã —Å—Ç–æ–ª–∞.
2.  –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å `vent_calc.py` –∑–∞–ø—É—â–µ–Ω (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ —á–µ—Ä–µ–∑ `top` –∏–ª–∏ –ª–æ–≥–∏ shell_command).
3.  –î–ª—è —Å–±—Ä–æ—Å–∞ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —É–¥–∞–ª–∏—Ç–µ —Ñ–∞–π–ª `vent_knowledge.json` (—Å–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞—Å—Ç –Ω–æ–≤—ã–π —Å –Ω–∞—á–∞–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏).
```